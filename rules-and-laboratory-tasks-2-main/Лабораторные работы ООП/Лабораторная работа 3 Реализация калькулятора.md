# Лабораторная работа №2 "Реализация калькулятора"


## Архитектура приложения

Программа должна состоять из двух доменов: "бизнес-логики" и "Интерфейса". Домены должны разделяться при помощи паттерна "Фасад", передача операций должна осуществляться при помощи паттерна "Команда".

#### Модуль "бизнес-логики"
Реализует все математические операции. При разработке модуля нужно придерживаться объектно ориентированного подхода. Использование функций Qt в модуле "бизнес-логики" запрещено.

#### Модуль интерфейса
Реализует логику отображения интерфейса приложения. Использует классы Qt. Никаких вычислений в нем производиться не может, он отвечает исключительно за визуализацию и передачу управляющих команд.

## Задание
Написать калькулятор, вычисляющий значение введённых выражений при помощи алгоритма Дейкстры. Должно быть реализовано разделение выражения на лексемы с выделением операторов и операндов. Для реализации алгоритма Дейкстры допускается использование стандартных коллекций языка C++.

В случае некорректного ввода, программа должна оповестить об этом пользователя. "Молчаливое" падение программы не допускается.

Калькулятор должен иметь панель кнопок и поле отображения данных в который будут добавляться вводимые значения и операторы, а также выводиться результат вычислений. Для реализации интерфейса необходимо использовать фреймворк QT.

На панели кнопок необходимо расположить:

* кнопки для ввода цифр: `0-9`;
* кнопку для ввода разделителя целой и дробной части числа: `.`;
* кнопки математических операций: `+ - * /`;
* кнопки действий: `= С Del`.
* кнопки приоритетов: `()`


Функциональное назначение кнопок: 

* нажатие на кнопку `C` должно полностью обнулить поле отображения данных;
* нажатие на кнопку `Del` должно удалить последний добавленный символ или очистить экран, если результат был вычислен;
* нажатие на кнопки математических операций `+,-,*,/` и добавления числовых знаков `0-9` должны добавлять соответствующие значения в поле отображения данных;
* нажатие на кнопки `()` должно добавлять соответствующий знак в выражении, меняя приоритет вычисления в соответствии с правилами арифметики;
* программа должна обрабатывать результат вычисления как обычное введенное при помощи кнопок число (т.е. далее его можно модифицировать, или выполнить с ним другие операции);
* нажатие на кнопку `=` выполняет вычисление введенного выражения.

## Дополнительное задание

Необходимо добавить поддержку следующих операций: 

Задания, оцениваемые в 2 балла:
* извлечение квадратного корня (`sqrt`);
* нахождение функции `1/x`. Применяется к текущему введённому значению;
* тригонометрические функции: `sin, cos, tg, ctg`;

Задание, оцениваемое в 3 балла:
* по работе с памятью. Если на экране введено выражение, должно быть выведено сообщение о невозможности сохранить значение. Необходимо реализовать следующие операции:
	* кнопка `M+` для прибавления числа на экране к сохранённому в памяти значению;
	* кнопка `M-` для вычитания числа на экране из сохранённого в памяти значения;
	* кнопка `MR` для отображения содержимого памяти в поле отображения данных;
	* кнопка `MC` для очистки содержимого памяти.

Задание, оцениваемое в 4 балла:
* реализовать очередь команд с возможностью их отмены.